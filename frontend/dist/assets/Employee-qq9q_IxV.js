import{d as e,o as l,c as a,a as o,b as t,H as s,I as n,f as i,w as u,r as d,g as p,h as r,t as c,i as m,v,k as y,_ as f}from"./index-DZYZqGXU.js";import{a as h}from"./index-B1ATcuf8.js";const b={class:"employee-container"},_={class:"card"},g={class:"card-header"},k={class:"card-body"},V={class:"table table-striped"},C=["onClick"],w=["onClick"],x={class:"form-group"},U={class:"form-group"},q={class:"form-group"},I={class:"form-group"},j={class:"form-group"},$={class:"dialog-footer"},D=f(e({__name:"Employee",setup(e){const f=d(!1),D=d(!1),E=d([]),H=d({id:null,name:"",employee_id:"",position:"",phone:"",hire_date:""});l(()=>{z()});const z=async()=>{try{const e=await h.get("/api/employees");E.value=e.data}catch(e){}},A=async()=>{try{D.value?await h.put(`/api/employees/${H.value.id}`,H.value):await h.post("/api/employees",H.value),f.value=!1,z()}catch(e){}};return(e,l)=>{const d=p("el-button"),B=p("el-dialog");return r(),a("div",b,[l[20]||(l[20]=o("h2",{class:"page-title"},[o("i",{class:"fas fa-users"}),t(" 员工管理 ")],-1)),o("div",_,[o("div",g,[o("button",{class:"btn btn-primary",onClick:l[0]||(l[0]=e=>f.value=!0)},[...l[8]||(l[8]=[o("i",{class:"fas fa-plus"},null,-1),t(" 添加员工 ",-1)])])]),o("div",k,[o("table",V,[l[11]||(l[11]=o("thead",null,[o("tr",null,[o("th",null,"ID"),o("th",null,"员工姓名"),o("th",null,"工号"),o("th",null,"职位"),o("th",null,"联系电话"),o("th",null,"入职日期"),o("th",null,"操作")])],-1)),o("tbody",null,[(r(!0),a(s,null,n(E.value,e=>(r(),a("tr",{key:e.id},[o("td",null,c(e.id),1),o("td",null,c(e.name),1),o("td",null,c(e.employee_id),1),o("td",null,c(e.position),1),o("td",null,c(e.phone),1),o("td",null,c(e.hire_date),1),o("td",null,[o("button",{class:"btn btn-sm btn-info",onClick:l=>(e=>{D.value=!0,H.value={...e},f.value=!0})(e)},[...l[9]||(l[9]=[o("i",{class:"fas fa-edit"},null,-1),t(" 编辑 ",-1)])],8,C),o("button",{class:"btn btn-sm btn-danger",onClick:l=>(async e=>{try{await h.delete(`/api/employees/${e}`),z()}catch(l){}})(e.id)},[...l[10]||(l[10]=[o("i",{class:"fas fa-trash"},null,-1),t(" 删除 ",-1)])],8,w)])]))),128))])])])]),i(B,{modelValue:f.value,"onUpdate:modelValue":l[7]||(l[7]=e=>f.value=e),title:D.value?"编辑员工":"添加员工",width:"500px"},{footer:u(()=>[o("span",$,[i(d,{onClick:l[6]||(l[6]=e=>f.value=!1)},{default:u(()=>[...l[18]||(l[18]=[t("取消",-1)])]),_:1}),i(d,{type:"primary",onClick:A},{default:u(()=>[...l[19]||(l[19]=[t("保存",-1)])]),_:1})])]),default:u(()=>[o("div",x,[l[12]||(l[12]=o("label",{for:"employee-name"},"员工姓名",-1)),m(o("input",{type:"text",class:"form-control",id:"employee-name","onUpdate:modelValue":l[1]||(l[1]=e=>H.value.name=e),required:""},null,512),[[v,H.value.name]])]),o("div",U,[l[13]||(l[13]=o("label",{for:"employee-id"},"工号",-1)),m(o("input",{type:"text",class:"form-control",id:"employee-id","onUpdate:modelValue":l[2]||(l[2]=e=>H.value.employee_id=e),required:""},null,512),[[v,H.value.employee_id]])]),o("div",q,[l[15]||(l[15]=o("label",{for:"employee-position"},"职位",-1)),m(o("select",{class:"form-control",id:"employee-position","onUpdate:modelValue":l[3]||(l[3]=e=>H.value.position=e),required:""},[...l[14]||(l[14]=[o("option",{value:""},"请选择职位",-1),o("option",{value:"管理员"},"管理员",-1),o("option",{value:"护士"},"护士",-1),o("option",{value:"厨师"},"厨师",-1),o("option",{value:"护理员"},"护理员",-1),o("option",{value:"其他"},"其他",-1)])],512),[[y,H.value.position]])]),o("div",I,[l[16]||(l[16]=o("label",{for:"employee-phone"},"联系电话",-1)),m(o("input",{type:"tel",class:"form-control",id:"employee-phone","onUpdate:modelValue":l[4]||(l[4]=e=>H.value.phone=e),required:""},null,512),[[v,H.value.phone]])]),o("div",j,[l[17]||(l[17]=o("label",{for:"employee-hire-date"},"入职日期",-1)),m(o("input",{type:"date",class:"form-control",id:"employee-hire-date","onUpdate:modelValue":l[5]||(l[5]=e=>H.value.hire_date=e),required:""},null,512),[[v,H.value.hire_date]])])]),_:1},8,["modelValue","title"])])}}}),[["__scopeId","data-v-213357c1"]]);export{D as default};
