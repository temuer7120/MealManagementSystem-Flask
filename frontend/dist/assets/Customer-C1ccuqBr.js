import{d as e,o as a,c as l,a as t,k as u,l as d,r as o,E as r,n as c,h as s,b as n,t as i,q as p,A as m,B as _,_ as h}from"./index-D9a12nsq.js";const v={class:"customer-container"},f={class:"card-header"},k={class:"dialog-footer"},b=h(e({__name:"Customer",setup(e){const h=o([]),b=o(!1),g=o(null),y=o({id:"",name:"",phone:"",email:"",check_in_date:"",check_out_date:"",status:"在住"}),w=o({name:[{required:!0,message:"请输入客户姓名",trigger:"blur"}],phone:[{required:!0,message:"请输入联系电话",trigger:"blur"}],check_in_date:[{required:!0,message:"请选择入住日期",trigger:"change"}],status:[{required:!0,message:"请选择状态",trigger:"change"}]}),V=e=>{switch(e){case"在住":return"success";case"已退房":return"info";case"预订":return"warning";default:return"default"}},x=()=>{y.value={id:"",name:"",phone:"",email:"",check_in_date:"",check_out_date:"",status:"在住"},b.value=!0},C=async()=>{g.value&&await g.value.validate(async e=>{if(e)try{if(y.value.id){const e=h.value.findIndex(e=>e.id===y.value.id);-1!==e&&(h.value[e]={...y.value}),r.success("客户更新成功")}else{const e={...y.value,id:h.value.length+1};h.value.push(e),r.success("客户创建成功")}b.value=!1}catch(a){r.error("保存客户失败")}})};return a(()=>{(async()=>{try{h.value=[{id:1,name:"张女士",phone:"13800138001",email:"zhang@example.com",check_in_date:"2026-02-01",check_out_date:"2026-02-28",status:"在住"},{id:2,name:"李女士",phone:"13900139001",email:"li@example.com",check_in_date:"2026-02-03",check_out_date:"2026-03-03",status:"在住"},{id:3,name:"王女士",phone:"13700137001",email:"wang@example.com",check_in_date:"2026-01-15",check_out_date:"2026-02-15",status:"已退房"}]}catch(e){r.error("获取客户列表失败")}})()}),(e,a)=>{const o=c("el-icon"),U=c("el-button"),q=c("el-table-column"),z=c("el-tag"),B=c("el-table"),I=c("el-card"),T=c("el-input"),j=c("el-form-item"),A=c("el-date-picker"),D=c("el-option"),E=c("el-select"),R=c("el-form"),F=c("el-dialog");return s(),l("div",v,[a[14]||(a[14]=t("h2",null,"客户管理",-1)),u(I,{shadow:"hover",class:"customer-card"},{header:d(()=>[t("div",f,[a[9]||(a[9]=t("span",null,"客户列表",-1)),u(U,{type:"primary",onClick:x},{default:d(()=>[u(o,null,{default:d(()=>[u(p(m))]),_:1}),a[8]||(a[8]=n(" 新增客户 ",-1))]),_:1})])]),default:d(()=>[u(B,{data:h.value,style:{width:"100%"}},{default:d(()=>[u(q,{prop:"id",label:"ID",width:"80"}),u(q,{prop:"name",label:"客户姓名"}),u(q,{prop:"phone",label:"联系电话",width:"150"}),u(q,{prop:"email",label:"邮箱",width:"200"}),u(q,{prop:"check_in_date",label:"入住日期",width:"150"}),u(q,{prop:"check_out_date",label:"退房日期",width:"150"}),u(q,{prop:"status",label:"状态",width:"100"},{default:d(e=>[u(z,{type:V(e.row.status)},{default:d(()=>[n(i(e.row.status),1)]),_:2},1032,["type"])]),_:1}),u(q,{label:"操作",width:"150"},{default:d(e=>[u(U,{type:"primary",size:"small",onClick:a=>{return l=e.row,y.value={...l},void(b.value=!0);var l}},{default:d(()=>[...a[10]||(a[10]=[n(" 编辑 ",-1)])]),_:1},8,["onClick"]),u(U,{type:"danger",size:"small",onClick:a=>{return l=e.row.id,void _.confirm("确定要删除该客户吗？","删除客户",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(async()=>{try{h.value=h.value.filter(e=>e.id!==l),r.success("客户删除成功")}catch(e){r.error("删除客户失败")}});var l}},{default:d(()=>[...a[11]||(a[11]=[n(" 删除 ",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1}),u(F,{modelValue:b.value,"onUpdate:modelValue":a[7]||(a[7]=e=>b.value=e),title:"客户管理",width:"500px"},{footer:d(()=>[t("span",k,[u(U,{onClick:a[6]||(a[6]=e=>b.value=!1)},{default:d(()=>[...a[12]||(a[12]=[n("取消",-1)])]),_:1}),u(U,{type:"primary",onClick:C},{default:d(()=>[...a[13]||(a[13]=[n("保存",-1)])]),_:1})])]),default:d(()=>[u(R,{model:y.value,rules:w.value,ref_key:"formRef",ref:g},{default:d(()=>[u(j,{label:"客户姓名",prop:"name"},{default:d(()=>[u(T,{modelValue:y.value.name,"onUpdate:modelValue":a[0]||(a[0]=e=>y.value.name=e),placeholder:"请输入客户姓名"},null,8,["modelValue"])]),_:1}),u(j,{label:"联系电话",prop:"phone"},{default:d(()=>[u(T,{modelValue:y.value.phone,"onUpdate:modelValue":a[1]||(a[1]=e=>y.value.phone=e),placeholder:"请输入联系电话"},null,8,["modelValue"])]),_:1}),u(j,{label:"邮箱",prop:"email"},{default:d(()=>[u(T,{modelValue:y.value.email,"onUpdate:modelValue":a[2]||(a[2]=e=>y.value.email=e),placeholder:"请输入邮箱"},null,8,["modelValue"])]),_:1}),u(j,{label:"入住日期",prop:"check_in_date"},{default:d(()=>[u(A,{modelValue:y.value.check_in_date,"onUpdate:modelValue":a[3]||(a[3]=e=>y.value.check_in_date=e),type:"date",placeholder:"选择入住日期",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),u(j,{label:"退房日期",prop:"check_out_date"},{default:d(()=>[u(A,{modelValue:y.value.check_out_date,"onUpdate:modelValue":a[4]||(a[4]=e=>y.value.check_out_date=e),type:"date",placeholder:"选择退房日期",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),u(j,{label:"状态",prop:"status"},{default:d(()=>[u(E,{modelValue:y.value.status,"onUpdate:modelValue":a[5]||(a[5]=e=>y.value.status=e),placeholder:"请选择状态"},{default:d(()=>[u(D,{label:"在住",value:"在住"}),u(D,{label:"已退房",value:"已退房"}),u(D,{label:"预订",value:"预订"})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])])}}}),[["__scopeId","data-v-a3791f39"]]);export{b as default};
