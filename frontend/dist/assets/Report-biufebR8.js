import{d as e,c as a,a as t,b as r,i as s,k as n,e as l,t as c,F as o,G as u,r as i,h as d,_ as p}from"./index-vc3lA8pl.js";import{a as v}from"./index-B1ATcuf8.js";const f={class:"report-container"},m={class:"card"},b={class:"card-header"},y={class:"form-group"},h={class:"card-body"},k={key:0,class:"loading"},_={key:1,class:"report-content"},w={class:"report-header"},g={class:"table table-striped"},D={key:2,class:"empty-state"},I=p(e({__name:"Report",setup(e){const p=i(""),I=i([]),x=i(!1),j=async()=>{if(p.value){x.value=!0;try{let e;switch(p.value){case"order":e=await v.get("/api/orders");break;case"finance":e=await v.get("/api/finances");break;case"customer":e=await v.get("/api/customers");break;case"employee":e=await v.get("/api/employees");break;default:return void(I.value=[])}I.value=e.data}catch(e){I.value=[]}finally{x.value=!1}}else I.value=[]},C=e=>{switch(e){case"order":return"订单报表";case"finance":return"财务报表";case"customer":return"客户报表";case"employee":return"员工报表";default:return"报表"}},F=e=>{switch(e){case"order":return["订单ID","客户姓名","订单金额","订单日期","订单状态"];case"finance":return["交易ID","交易类型","金额","交易日期","交易描述"];case"customer":return["客户ID","客户姓名","联系电话","入住日期","会员等级"];case"employee":return["员工ID","员工姓名","工号","职位","联系电话","入职日期"];default:return[]}},G=()=>{window.print()};return(e,i)=>(d(),a("div",f,[i[8]||(i[8]=t("h2",{class:"page-title"},[t("i",{class:"fas fa-file-invoice"}),r(" 报表打印 ")],-1)),t("div",m,[t("div",b,[t("div",y,[i[2]||(i[2]=t("label",{for:"report-type"},"选择报表类型",-1)),s(t("select",{class:"form-control",id:"report-type","onUpdate:modelValue":i[0]||(i[0]=e=>p.value=e),onChange:j},[...i[1]||(i[1]=[l('<option value="" data-v-f0b1eba8>请选择报表类型</option><option value="order" data-v-f0b1eba8>订单报表</option><option value="finance" data-v-f0b1eba8>财务报表</option><option value="customer" data-v-f0b1eba8>客户报表</option><option value="employee" data-v-f0b1eba8>员工报表</option>',5)])],544),[[n,p.value]])])]),t("div",h,[x.value?(d(),a("div",k,[...i[3]||(i[3]=[t("i",{class:"fas fa-spinner fa-spin"},null,-1),r(" 正在生成报表... ",-1)])])):I.value.length>0?(d(),a("div",_,[t("h3",null,c(C(p.value)),1),t("div",w,[t("p",null,"生成日期: "+c((new Date).toLocaleDateString()),1),i[4]||(i[4]=t("p",null,"上海巍阁公司管理系统",-1))]),t("table",g,[t("thead",null,[t("tr",null,[(d(!0),a(o,null,u(F(p.value),e=>(d(),a("th",{key:e},c(e),1))),128))])]),t("tbody",null,[(d(!0),a(o,null,u(I.value,(e,t)=>(d(),a("tr",{key:t},[(d(!0),a(o,null,u(F(p.value),t=>(d(),a("td",{key:t},c(((e,a)=>{switch(a){case"订单ID":case"交易ID":case"客户ID":case"员工ID":return e.id||"";case"客户姓名":return e.customer_name||e.name||"";case"订单金额":case"金额":return e.amount||"";case"订单日期":return e.order_date||"";case"订单状态":return e.status||"";case"交易类型":return e.type||"";case"交易日期":return e.transaction_date||"";case"交易描述":return e.description||"";case"联系电话":return e.phone||"";case"入住日期":return e.check_in_date||"";case"会员等级":return e.member_level||"";case"工号":return e.employee_id||"";case"职位":return e.position||"";case"入职日期":return e.hire_date||"";default:return""}})(e,t)),1))),128))]))),128))])]),i[6]||(i[6]=t("div",{class:"report-footer"},[t("p",null,"报表生成完毕")],-1)),t("div",{class:"mt-4 text-center"},[t("button",{class:"btn btn-primary",onClick:G},[...i[5]||(i[5]=[t("i",{class:"fas fa-print"},null,-1),r(" 打印报表 ",-1)])])])])):(d(),a("div",D,[...i[7]||(i[7]=[t("i",{class:"fas fa-file-invoice fa-3x"},null,-1),t("p",null,"请选择报表类型生成报表",-1)])]))])])]))}}),[["__scopeId","data-v-f0b1eba8"]]);export{I as default};
