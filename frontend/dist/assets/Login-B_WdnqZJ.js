import{d as a,o as e,c as s,a as l,b as t,e as r,f as i,w as o,r as n,g as d,u as c,h as v,i as u,j as m,v as f,k as p,l as g,m as b,_ as h}from"./index-DZYZqGXU.js";import{a as y}from"./index-B1ATcuf8.js";const w={class:"auth-container"},k={id:"login-form"},x={class:"mb-3"},C={class:"mb-3"},_={class:"dialog-footer"},V={class:"auth-container"},F={id:"register-form"},U={class:"row"},q={class:"col-md-6"},A={class:"mb-3"},I={class:"mb-3"},T={class:"mb-3"},D={class:"mb-3"},j={class:"mb-3"},B={class:"col-md-6"},S={class:"mb-3"},z={class:"mb-3"},E={class:"mb-3"},K={class:"mb-3"},N={class:"dialog-footer"},$=h(a({__name:"Login",setup(a){const h=c(),$=n(!1),J=n(!1),L=n(!1),O=n(!1),G=n(),H=n(),M=n({username:"",password:""}),P=n({username:"",password:"",name:"",gender:"",age:null,birthdate:null,stayDays:null,phone:"",restrictions:""});e(()=>{M.value.username="",M.value.password=""});const Q=()=>{var a;null==(a=H.value)||a.focus()},R=()=>{const a=document.getElementById("services");a&&a.scrollIntoView({behavior:"smooth"})},W=()=>{M.value.username="",M.value.password="",L.value=!0,O.value=!1,setTimeout(()=>{var a;null==(a=G.value)||a.focus()},100)},X=()=>{P.value={username:"",password:"",name:"",gender:"",age:null,birthdate:null,stayDays:null,phone:"",restrictions:""},O.value=!0,L.value=!1},Y=()=>{L.value=!1,X()},Z=()=>{O.value=!1,W()},aa=async()=>{var a,e;if(M.value.username&&M.value.password){$.value=!0;try{const a=await y.post("/api/auth/login",{username:M.value.username,password:M.value.password}),{access_token:e,user:s}=a.data;localStorage.setItem("token",e),localStorage.setItem("user",JSON.stringify(s)),y.defaults.headers.common.Authorization=`Bearer ${e}`;const l=g(s.role);b(l),sa("登录成功","success","login"),setTimeout(()=>{L.value=!1,h.push("/dashboard")},1e3)}catch(s){sa((null==(e=null==(a=s.response)?void 0:a.data)?void 0:e.error)||"登录失败，请检查用户名和密码","danger","login")}finally{$.value=!1}}else sa("请输入用户名和密码","danger","login")},ea=async()=>{var a,e;if(P.value.username&&P.value.password&&P.value.name){J.value=!0;try{await y.post("/api/auth/register",{username:P.value.username,password:P.value.password,role:"guest"}),sa("注册成功，请登录","success","register"),setTimeout(()=>{var a;O.value=!1,M.value.username=P.value.username,M.value.password="",L.value=!0,null==(a=G.value)||a.focus()},1e3)}catch(s){sa((null==(e=null==(a=s.response)?void 0:a.data)?void 0:e.error)||"注册失败，请重试","danger","register")}finally{J.value=!1}}else sa("请填写必要信息","danger","register")},sa=(a,e,s="login")=>{const l=document.getElementById("register"===s?"register-message":"login-message");l&&(l.className=`message message-${e}`,l.textContent=a,l.style.display="block",setTimeout(()=>{l.style.display="none"},3e3))};return(a,e)=>{const n=d("el-button"),c=d("el-dialog");return v(),s("div",null,[l("nav",{class:"navbar navbar-expand-lg navbar-dark",style:{backgroundColor:"#FF99A8"}},[l("div",{class:"container-fluid"},[e[18]||(e[18]=l("a",{class:"navbar-brand",href:"#"},[l("i",{class:"fas fa-hotel"}),t(" 上海巍阁母婴护理中心 ")],-1)),e[19]||(e[19]=l("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbar-nav","aria-controls":"navbar-nav","aria-expanded":"false","aria-label":"Toggle navigation"},[l("span",{class:"navbar-toggler-icon"})],-1)),l("div",{class:"collapse navbar-collapse",id:"navbar-nav"},[e[17]||(e[17]=r('<ul class="navbar-nav me-auto" data-v-73230395><li class="nav-item" data-v-73230395><a class="nav-link active" aria-current="page" href="#" data-v-73230395><i class="fas fa-home" data-v-73230395></i> 首页 </a></li><li class="nav-item" data-v-73230395><a class="nav-link" href="#about" data-v-73230395><i class="fas fa-info-circle" data-v-73230395></i> 关于我们 </a></li><li class="nav-item" data-v-73230395><a class="nav-link" href="#services" data-v-73230395><i class="fas fa-concierge-bell" data-v-73230395></i> 服务项目 </a></li><li class="nav-item" data-v-73230395><a class="nav-link" href="#pricing" data-v-73230395><i class="fas fa-tag" data-v-73230395></i> 价格体系 </a></li><li class="nav-item" data-v-73230395><a class="nav-link" href="#contact" data-v-73230395><i class="fas fa-envelope" data-v-73230395></i> 联系我们 </a></li></ul>',1)),l("ul",{class:"navbar-nav ms-auto"},[l("li",{class:"nav-item"},[l("button",{class:"btn btn-light",onClick:W},[...e[15]||(e[15]=[l("i",{class:"fas fa-sign-in-alt"},null,-1),t(" 登录 ",-1)])])]),l("li",{class:"nav-item"},[l("button",{class:"btn btn-light",style:{"margin-left":"10px"},onClick:X},[...e[16]||(e[16]=[l("i",{class:"fas fa-user-plus"},null,-1),t(" 注册 ",-1)])])])])])])]),l("div",{class:"company-banner",style:{backgroundColor:"#FF99A8"}},[l("div",{class:"container"},[l("div",{class:"row align-items-center"},[l("div",{class:"col-md-6"},[e[20]||(e[20]=l("h1",null,"上海巍阁母婴护理中心",-1)),e[21]||(e[21]=l("p",{class:"lead"},"专业母婴护理服务，为您和宝宝提供全方位的呵护",-1)),e[22]||(e[22]=l("p",null,"我们拥有一支经验丰富的专业团队，包括营养师、厨师、护士和护理人员，致力于为产后妈妈和新生儿提供最优质的护理服务。",-1)),l("div",{class:"mt-4"},[l("button",{class:"btn btn-light btn-lg",onClick:W},"立即咨询"),l("button",{class:"btn btn-outline-light btn-lg",style:{"margin-left":"10px"},onClick:R},"了解服务")])]),e[23]||(e[23]=l("div",{class:"col-md-6"},[l("img",{src:"https://trae-api-cn.mchost.guru/api/ide/v1/text_to_image?prompt=professional%20mother%20and%20baby%20care%20center%20interior%2C%20modern%20design%2C%20warm%20lighting%2C%20comfortable%20environment%2C%20high%20quality&image_size=landscape_16_9",alt:"上海巍阁母婴护理中心",class:"img-fluid rounded"})],-1))])])]),e[44]||(e[44]=r('<div class="services-section" id="services" style="background-color:#FF99A8;" data-v-73230395><div class="container" data-v-73230395><h2 class="text-center mb-5" data-v-73230395>我们的服务项目</h2><div class="row" data-v-73230395><div class="col-md-4" data-v-73230395><div class="service-card" data-v-73230395><i class="fas fa-baby fa-3x mb-3" data-v-73230395></i><h3 data-v-73230395>新生儿护理</h3><p data-v-73230395>专业护士24小时贴心护理，包括喂养、洗澡、抚触、脐带护理等</p></div></div><div class="col-md-4" data-v-73230395><div class="service-card" data-v-73230395><i class="fas fa-user-nurse fa-3x mb-3" data-v-73230395></i><h3 data-v-73230395>产后护理</h3><p data-v-73230395>产后妈妈身体恢复指导，包括伤口护理、乳房护理、产后修复等</p></div></div><div class="col-md-4" data-v-73230395><div class="service-card" data-v-73230395><i class="fas fa-utensils fa-3x mb-3" data-v-73230395></i><h3 data-v-73230395>营养膳食</h3><p data-v-73230395>专业营养师定制的产后恢复餐单，科学搭配，促进身体恢复</p></div></div></div></div></div><footer class="footer" style="background-color:#FF99A8;" data-v-73230395><div class="container" data-v-73230395><div class="row" data-v-73230395><div class="col-md-4" data-v-73230395><h3 data-v-73230395>上海巍阁母婴护理中心</h3><p data-v-73230395>专业母婴护理服务提供商</p><p data-v-73230395><i class="fas fa-map-marker-alt" data-v-73230395></i> 上海市浦东新区张江高科技园区</p><p data-v-73230395><i class="fas fa-phone" data-v-73230395></i> 400-888-8888</p><p data-v-73230395><i class="fas fa-envelope" data-v-73230395></i> info@weige.com</p></div><div class="col-md-4" data-v-73230395><h3 data-v-73230395>快速链接</h3><ul class="footer-links" data-v-73230395><li data-v-73230395><a href="#" data-v-73230395>首页</a></li><li data-v-73230395><a href="#about" data-v-73230395>关于我们</a></li><li data-v-73230395><a href="#services" data-v-73230395>服务项目</a></li><li data-v-73230395><a href="#pricing" data-v-73230395>价格体系</a></li><li data-v-73230395><a href="#contact" data-v-73230395>联系我们</a></li></ul></div><div class="col-md-4" data-v-73230395><h3 data-v-73230395>关注我们</h3><div class="social-icons" data-v-73230395><a href="#" class="social-icon" data-v-73230395><i class="fab fa-weixin fa-2x" data-v-73230395></i></a><a href="#" class="social-icon" data-v-73230395><i class="fab fa-weibo fa-2x" data-v-73230395></i></a><a href="#" class="social-icon" data-v-73230395><i class="fab fa-tiktok fa-2x" data-v-73230395></i></a><a href="#" class="social-icon" data-v-73230395><i class="fab fa-instagram fa-2x" data-v-73230395></i></a></div><p class="mt-4" data-v-73230395>© 2026 上海巍阁母婴护理中心. 保留所有权利.</p></div></div></div></footer>',2)),i(c,{modelValue:L.value,"onUpdate:modelValue":e[3]||(e[3]=a=>L.value=a),title:"会员登录",width:"500px",center:""},{footer:o(()=>[l("span",_,[i(n,{onClick:e[2]||(e[2]=a=>L.value=!1)},{default:o(()=>[...e[28]||(e[28]=[t("取消",-1)])]),_:1}),i(n,{type:"primary",onClick:aa,loading:$.value,style:{backgroundColor:"#FF99A8",borderColor:"#FF99A8"}},{default:o(()=>[...e[29]||(e[29]=[t(" 登录 ",-1)])]),_:1},8,["loading"])])]),default:o(()=>[l("div",w,[l("form",k,[l("div",x,[e[24]||(e[24]=l("label",{for:"login-username",class:"form-label"},[l("i",{class:"fas fa-user"}),t(" 用户名 ")],-1)),u(l("input",{type:"text",class:"form-control",id:"login-username","onUpdate:modelValue":e[0]||(e[0]=a=>M.value.username=a),onKeyup:m(Q,["enter"]),ref_key:"usernameInput",ref:G,required:"",placeholder:"请输入用户名"},null,544),[[f,M.value.username]])]),l("div",C,[e[25]||(e[25]=l("label",{for:"login-password",class:"form-label"},[l("i",{class:"fas fa-lock"}),t(" 密码 ")],-1)),u(l("input",{type:"password",class:"form-control",id:"login-password","onUpdate:modelValue":e[1]||(e[1]=a=>M.value.password=a),onKeyup:m(aa,["enter"]),ref_key:"passwordInput",ref:H,required:"",placeholder:"请输入密码"},null,544),[[f,M.value.password]])]),e[27]||(e[27]=l("div",{id:"login-message",class:"message",style:{display:"none"}},null,-1)),l("div",{class:"mt-3 text-center"},[l("button",{type:"button",class:"btn btn-link",id:"show-register-btn",onClick:Y},[...e[26]||(e[26]=[l("i",{class:"fas fa-user-plus"},null,-1),t(" 新用户注册 ",-1)])])])])])]),_:1},8,["modelValue"]),i(c,{modelValue:O.value,"onUpdate:modelValue":e[14]||(e[14]=a=>O.value=a),title:"用户注册",width:"600px",center:""},{footer:o(()=>[l("span",N,[i(n,{onClick:e[13]||(e[13]=a=>O.value=!1)},{default:o(()=>[...e[42]||(e[42]=[t("取消",-1)])]),_:1}),i(n,{type:"primary",onClick:ea,loading:J.value,style:{backgroundColor:"#FF99A8",borderColor:"#FF99A8"}},{default:o(()=>[...e[43]||(e[43]=[t(" 注册 ",-1)])]),_:1},8,["loading"])])]),default:o(()=>[l("div",V,[l("form",F,[l("div",U,[l("div",q,[l("div",A,[e[30]||(e[30]=l("label",{for:"register-username",class:"form-label"},[l("i",{class:"fas fa-user"}),t(" 用户名 ")],-1)),u(l("input",{type:"text",class:"form-control",id:"register-username","onUpdate:modelValue":e[4]||(e[4]=a=>P.value.username=a),required:"",placeholder:"请输入用户名"},null,512),[[f,P.value.username]])]),l("div",I,[e[31]||(e[31]=l("label",{for:"register-password",class:"form-label"},[l("i",{class:"fas fa-lock"}),t(" 密码 ")],-1)),u(l("input",{type:"password",class:"form-control",id:"register-password","onUpdate:modelValue":e[5]||(e[5]=a=>P.value.password=a),required:"",placeholder:"请输入密码"},null,512),[[f,P.value.password]])]),l("div",T,[e[32]||(e[32]=l("label",{for:"register-name",class:"form-label"},[l("i",{class:"fas fa-id-card"}),t(" 姓名 ")],-1)),u(l("input",{type:"text",class:"form-control",id:"register-name","onUpdate:modelValue":e[6]||(e[6]=a=>P.value.name=a),required:"",placeholder:"请输入姓名"},null,512),[[f,P.value.name]])]),l("div",D,[e[34]||(e[34]=l("label",{for:"register-gender",class:"form-label"},[l("i",{class:"fas fa-venus-mars"}),t(" 性别 ")],-1)),u(l("select",{class:"form-control",id:"register-gender","onUpdate:modelValue":e[7]||(e[7]=a=>P.value.gender=a),required:""},[...e[33]||(e[33]=[l("option",{value:""},"请选择",-1),l("option",{value:"男"},"男",-1),l("option",{value:"女"},"女",-1)])],512),[[p,P.value.gender]])]),l("div",j,[e[35]||(e[35]=l("label",{for:"register-age",class:"form-label"},[l("i",{class:"fas fa-birthday-cake"}),t(" 年龄 ")],-1)),u(l("input",{type:"number",class:"form-control",id:"register-age","onUpdate:modelValue":e[8]||(e[8]=a=>P.value.age=a),required:"",placeholder:"请输入年龄"},null,512),[[f,P.value.age]])])]),l("div",B,[l("div",S,[e[36]||(e[36]=l("label",{for:"register-birthdate",class:"form-label"},[l("i",{class:"fas fa-calendar-alt"}),t(" 出生日期 ")],-1)),u(l("input",{type:"date",class:"form-control",id:"register-birthdate","onUpdate:modelValue":e[9]||(e[9]=a=>P.value.birthdate=a),required:""},null,512),[[f,P.value.birthdate]])]),l("div",z,[e[37]||(e[37]=l("label",{for:"register-stay-days",class:"form-label"},[l("i",{class:"fas fa-hotel"}),t(" 计划入住天数 ")],-1)),u(l("input",{type:"number",class:"form-control",id:"register-stay-days","onUpdate:modelValue":e[10]||(e[10]=a=>P.value.stayDays=a),required:"",placeholder:"请输入计划入住天数"},null,512),[[f,P.value.stayDays]])]),l("div",E,[e[38]||(e[38]=l("label",{for:"register-phone",class:"form-label"},[l("i",{class:"fas fa-phone"}),t(" 联系电话 ")],-1)),u(l("input",{type:"tel",class:"form-control",id:"register-phone","onUpdate:modelValue":e[11]||(e[11]=a=>P.value.phone=a),required:"",placeholder:"请输入联系电话"},null,512),[[f,P.value.phone]])]),l("div",K,[e[39]||(e[39]=l("label",{for:"register-restrictions",class:"form-label"},[l("i",{class:"fas fa-utensils"}),t(" 饮食禁忌 ")],-1)),u(l("textarea",{class:"form-control",id:"register-restrictions","onUpdate:modelValue":e[12]||(e[12]=a=>P.value.restrictions=a),rows:"3",placeholder:"请输入饮食禁忌"},null,512),[[f,P.value.restrictions]])])])]),e[41]||(e[41]=l("div",{id:"register-message",class:"message",style:{display:"none"}},null,-1)),l("div",{class:"mt-3 text-center"},[l("button",{type:"button",class:"btn btn-link",id:"show-login-btn",onClick:Z},[...e[40]||(e[40]=[l("i",{class:"fas fa-sign-in-alt"},null,-1),t(" 已有账号？登录 ",-1)])])])])])]),_:1},8,["modelValue"])])}}}),[["__scopeId","data-v-73230395"]]);export{$ as default};
